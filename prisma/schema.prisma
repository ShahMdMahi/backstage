generator client {
  provider = "prisma-client"
  output   = "../lib/prisma"
}

datasource db {
  provider = "postgresql"
}

enum ROLE {
  SYSTEM_OWNER
  SYSTEM_ADMIN
  SYSTEM_USER
  USER
}

enum SESSION_DEVICE_TYPE {
  DESKTOP
  TABLET
  MOBILE
  CONSOLE
  EMBEDDED
  SMARTTV
  WEARABLE
  XR
  OTHER
}

enum SYSTEM_ACCESS_LEVEL {
  READ
  WRITE
  UPDATE
  DELETE
}

enum WORKSPACE_ACCOUNT_TYPE {
  B2B
  LABEL
  ARTIST
  FREE_TRIAL
}

enum WORKSPACE_ACCOUNT_ACCESS_ROLE {
  ADMIN
  ARTIST_PERFORMER_PRODUCER_AND_ENGINEER
  USER
}

enum WORKSPACE_ACCOUNT_ACCESS_LEVEL {
  READ
  WRITE
  UPDATE
  DELETE
}

enum RELEASE_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum TRACK_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum VIDEO_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum RINGTONE_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum ARTIST_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum PERFORMER_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum PRODUCER_AND_ENGINEER_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum WRITER_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum PUBLISHER_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum LABEL_STATUS {
  DRAFT
  PENDING
  APPROVED
  PROCESSING
  PUBLISHED
  REJECTED
  ARCHIVED
  PAUSED
  TAKEN_DOWN
}

enum TRANSACTION_STATUS {
  PENDING
  PROCESSING
  ON_HOLD
  COMPLETED
  FAILED
  CANCELLED
  REJECTED
}

enum WITHDRAWAL_STATUS {
  PENDING
  PROCESSING
  ON_HOLD
  COMPLETED
  FAILED
  CANCELLED
  REJECTED
}

enum RIGHTS_MANAGEMENT_STATUS {
  PENDING
  APPROVED
  PROCESSING
  COMPLETED
  FAILED
  CANCELLED
  REJECTED
}

enum AUDIT_LOG_ACTION {
  // User Actions
  USER_REGISTERED
  USER_LOGGED_IN
  USER_LOGGED_OUT
  USER_RESEND_VERIFICATION
  USER_FORGOT_PASSWORD
  USER_RESET_PASSWORD
  USER_VERIFIED
  USER_SUSPENDED
  USER_APPROVED
  USER_PASSWORD_CHANGED
  USER_UPDATED
  USER_DELETED

  // Session Actions
  SESSION_CREATED
  SESSION_REVOKED

  // System Access Actions

  // Workspace Account Actions

  // Release Actions

  // Track Actions

  // Video Actions

  // Ringtone Actions

  // Artist Actions

  // Performer Actions

  // Producer and Engineer Actions

  // ArtistPerformerProducerAndEngineer Actions

  // Writer Actions

  // Publisher Actions

  // Label Actions

  // Transaction Actions

  // Withdrawal Actions

  // Shared Workspace Account Access Actions

  // Rights Management Actions
}

enum AUDIT_LOG_ENTITY {
  USER
  SESSION
  SYSTEM_ACCESS
  WORKSPACE_ACCOUNT
  RELEASE
  TRACK
  VIDEO
  RINGTONE
  ARTIST
  PERFORMER
  PRODUCER_AND_ENGINEER
  ARTIST_PERFORMER_PRODUCER_AND_ENGINEER
  WRITER
  PUBLISHER
  LABEL
  TRANSACTION
  WITHDRAWAL
  SHARED_WORKSPACE_ACCOUNT_ACCESS
  RIGHTS_MANAGEMENT
}

model User {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  ownWorkspaceAccountId String? @unique

  // Fields
  name     String
  email    String  @unique
  password String
  phone    String
  avatar   String?
  metadata Json?   @db.JsonB

  // Enums
  role ROLE @default(USER)

  // Relations
  sessions                         Session[]
  systemAccess                     SystemAccess?                  @relation("SystemAccessUser")
  assignedSystemAccesses           SystemAccess[]                 @relation("SystemAccessAssigner")
  ownWorkspaceAccount              WorkspaceAccount?
  sharedWorkspaceAccountAccesses   SharedWorkspaceAccountAccess[] @relation("SharedWorkspaceAccountAccessUser")
  assignedWorkspaceAccountAccesses SharedWorkspaceAccountAccess[] @relation("SharedWorkspaceAccountAccessAssigner")
  rightsManagements                RightsManagement[]
  auditLogs                        AuditLog[]

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  verifiedAt  DateTime?
  approvedAt  DateTime?
  suspendedAt DateTime?

  // Indexes & Constraints
}

model Session {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  userId String

  // Fields
  token             String @unique
  userAgent         String
  ipAddress         String
  deviceFingerprint String
  metadata          Json?  @db.JsonB

  // Enums
  deviceType SESSION_DEVICE_TYPE @default(OTHER)

  // Relations
  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  // Timestamps
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt
  expiresAt  DateTime
  revokedAt  DateTime?
  accessedAt DateTime

  // Indexes & Constraints
  @@index([token])
  @@index([userId])
  @@index([expiresAt])
  @@index([revokedAt])
  @@index([accessedAt])
}

model SystemAccess {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  userId     String @unique
  assignerId String @unique

  // Fields
  workspaceAccountsAccess          Boolean               @default(false)
  releasesAccess                   Boolean               @default(false)
  tracksAccess                     Boolean               @default(false)
  videosAccess                     Boolean               @default(false)
  ringtonesAccess                  Boolean               @default(false)
  artistsAccess                    Boolean               @default(false)
  performersAccess                 Boolean               @default(false)
  producersAndEngineersAccess      Boolean               @default(false)
  writersAccess                    Boolean               @default(false)
  publishersAccess                 Boolean               @default(false)
  labelsAccess                     Boolean               @default(false)
  transactionsAccess               Boolean               @default(false)
  withdrawalsAccess                Boolean               @default(false)
  rightsManagementAccess           Boolean               @default(false)
  workspaceAccountsAccessLevel     SYSTEM_ACCESS_LEVEL[] @default([])
  releasesAccessLevel              SYSTEM_ACCESS_LEVEL[] @default([])
  tracksAccessLevel                SYSTEM_ACCESS_LEVEL[] @default([])
  videosAccessLevel                SYSTEM_ACCESS_LEVEL[] @default([])
  ringtonesAccessLevel             SYSTEM_ACCESS_LEVEL[] @default([])
  artistsAccessLevel               SYSTEM_ACCESS_LEVEL[] @default([])
  performersAccessLevel            SYSTEM_ACCESS_LEVEL[] @default([])
  producersAndEngineersAccessLevel SYSTEM_ACCESS_LEVEL[] @default([])
  writersAccessLevel               SYSTEM_ACCESS_LEVEL[] @default([])
  publishersAccessLevel            SYSTEM_ACCESS_LEVEL[] @default([])
  labelsAccessLevel                SYSTEM_ACCESS_LEVEL[] @default([])
  transactionsAccessLevel          SYSTEM_ACCESS_LEVEL[] @default([])
  withdrawalsAccessLevel           SYSTEM_ACCESS_LEVEL[] @default([])
  rightsManagementAccessLevel      SYSTEM_ACCESS_LEVEL[] @default([])
  metadata                         Json?                 @db.JsonB

  // Enums

  // Relations
  user     User @relation(name: "SystemAccessUser", fields: [userId], references: [id], onDelete: Cascade)
  assigner User @relation(name: "SystemAccessAssigner", fields: [assignerId], references: [id], onDelete: Cascade)

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  suspendedAt DateTime?
  expiresAt   DateTime

  // Indexes & Constraints
}

model WorkspaceAccount {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  ownerId String @unique

  // Fields
  name        String
  legalName   String
  description String
  logo        String
  metadata    Json?  @db.JsonB

  // Enums
  type WORKSPACE_ACCOUNT_TYPE

  // Relations
  owner                 User                           @relation(fields: [ownerId], references: [id], onDelete: Cascade)
  sharedAccesses        SharedWorkspaceAccountAccess[]
  releases              Release[]
  tracks                Track[]
  videos                Video[]
  ringtones             Ringtone[]
  artists               Artist[]
  performers            Performer[]
  producersAndEngineers ProducerAndEngineer[]
  writers               Writer[]
  publishers            Publisher[]
  labels                Label[]
  transactions          Transaction[]
  withdrawals           Withdrawal[]

  // Timestamps
  createdAt          DateTime  @default(now())
  updatedAt          DateTime  @updatedAt
  startedAt          DateTime
  endedAt            DateTime
  renewedAt          DateTime?
  canceledAt         DateTime?
  suspendedAt        DateTime?
  agreementSignedAt  DateTime?
  agreementExpiresAt DateTime?
  agreementRenewedAt DateTime?

  // Indexes & Constraints
}

model Release {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status RELEASE_STATUS @default(DRAFT)

  // Relations
  workspaceAccount             WorkspaceAccount               @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  sharedWorkspaceAccountAccess SharedWorkspaceAccountAccess[]
  label                        Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Track {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status TRACK_STATUS @default(DRAFT)

  // Relations
  workspaceAccount             WorkspaceAccount               @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  sharedWorkspaceAccountAccess SharedWorkspaceAccountAccess[]
  label                        Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Video {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status VIDEO_STATUS @default(DRAFT)

  // Relations
  workspaceAccount             WorkspaceAccount               @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  sharedWorkspaceAccountAccess SharedWorkspaceAccountAccess[]
  label                        Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Ringtone {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status RINGTONE_STATUS @default(DRAFT)

  // Relations
  workspaceAccount             WorkspaceAccount               @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  sharedWorkspaceAccountAccess SharedWorkspaceAccountAccess[]
  label                        Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Artist {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String @unique

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status ARTIST_STATUS @default(DRAFT)

  // Relations
  workspaceAccount                    WorkspaceAccount                    @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  artistPerformerProducerAndEngineers ArtistPerformerProducerAndEngineer?
  accessContent                       SharedWorkspaceAccountAccess[]      @relation("SharedWorkspaceAccountAccessArtist")
  sharedWorkspaceAccountAccesses      SharedWorkspaceAccountAccess[]
  label                               Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Performer {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String @unique

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status PERFORMER_STATUS @default(DRAFT)

  // Relations
  workspaceAccount                    WorkspaceAccount                    @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  artistPerformerProducerAndEngineers ArtistPerformerProducerAndEngineer?
  accessContent                       SharedWorkspaceAccountAccess[]      @relation("SharedWorkspaceAccountAccessPerformer")
  sharedWorkspaceAccountAccesses      SharedWorkspaceAccountAccess[]
  label                               Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model ProducerAndEngineer {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String @unique

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status PRODUCER_AND_ENGINEER_STATUS @default(DRAFT)

  // Relations
  workspaceAccount                    WorkspaceAccount                    @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  artistPerformerProducerAndEngineers ArtistPerformerProducerAndEngineer?
  accessContent                       SharedWorkspaceAccountAccess[]      @relation("SharedWorkspaceAccountAccessProducerAndEngineer")
  sharedWorkspaceAccountAccesses      SharedWorkspaceAccountAccess[]
  label                               Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model ArtistPerformerProducerAndEngineer {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  artistId              String? @unique
  performerId           String? @unique
  producerAndEngineerId String? @unique

  // Fields
  name      String
  legalName String
  avatar    String
  metadata  Json?  @db.JsonB

  // Relations
  artist              Artist?              @relation(fields: [artistId], references: [id], onDelete: SetNull)
  performer           Performer?           @relation(fields: [performerId], references: [id], onDelete: SetNull)
  producerAndEngineer ProducerAndEngineer? @relation(fields: [producerAndEngineerId], references: [id], onDelete: SetNull)

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
  @@unique([artistId, performerId, producerAndEngineerId])
}

model Writer {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String @unique

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status WRITER_STATUS @default(DRAFT)

  // Relations
  workspaceAccount               WorkspaceAccount               @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  accessContent                  SharedWorkspaceAccountAccess[] @relation("SharedWorkspaceAccountAccessWriter")
  sharedWorkspaceAccountAccesses SharedWorkspaceAccountAccess[]
  label                          Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Publisher {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String @unique

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status PUBLISHER_STATUS @default(DRAFT)

  // Relations
  workspaceAccount               WorkspaceAccount               @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  accessContent                  SharedWorkspaceAccountAccess[] @relation("SharedWorkspaceAccountAccessPublisher")
  sharedWorkspaceAccountAccesses SharedWorkspaceAccountAccess[]
  label                          Label[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Label {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String @unique

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status LABEL_STATUS @default(DRAFT)

  // Relations
  workspaceAccount               WorkspaceAccount               @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  accessContent                  SharedWorkspaceAccountAccess[] @relation("SharedWorkspaceAccountAccessLabel")
  sharedWorkspaceAccountAccesses SharedWorkspaceAccountAccess[]
  releases                       Release[]
  tracks                         Track[]
  videos                         Video[]
  ringtones                      Ringtone[]
  artists                        Artist[]
  performers                     Performer[]
  producersAndEngineers          ProducerAndEngineer[]
  writers                        Writer[]
  publishers                     Publisher[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Transaction {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String?

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status TRANSACTION_STATUS @default(PENDING)

  // Relations
  workspaceAccount             WorkspaceAccount?              @relation(fields: [workspaceAccountId], references: [id], onDelete: SetNull)
  sharedWorkspaceAccountAccess SharedWorkspaceAccountAccess[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model Withdrawal {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId String?

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status WITHDRAWAL_STATUS @default(PENDING)

  // Relations
  workspaceAccount             WorkspaceAccount?              @relation(fields: [workspaceAccountId], references: [id], onDelete: SetNull)
  sharedWorkspaceAccountAccess SharedWorkspaceAccountAccess[]

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model SharedWorkspaceAccountAccess {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  workspaceAccountId    String
  userId                String
  assignerId            String
  artistId              String?
  performerId           String?
  producerAndEngineerId String?
  writerId              String?
  publisherId           String?
  labelId               String?

  // Fields
  allReleases                    Boolean                          @default(false)
  allTracks                      Boolean                          @default(false)
  allVideos                      Boolean                          @default(false)
  allRingtones                   Boolean                          @default(false)
  allArtists                     Boolean                          @default(false)
  allPerformers                  Boolean                          @default(false)
  allProducersAndEngineers       Boolean                          @default(false)
  allWriters                     Boolean                          @default(false)
  allPublishers                  Boolean                          @default(false)
  allLabels                      Boolean                          @default(false)
  allTransactions                Boolean                          @default(false)
  allWithdrawals                 Boolean                          @default(false)
  releaseAccessLevel             WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  trackAccessLevel               WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  videoAccessLevel               WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  ringtoneAccessLevel            WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  artistAccessLevel              WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  performerAccessLevel           WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  producerAndEngineerAccessLevel WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  writerAccessLevel              WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  publisherAccessLevel           WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  labelAccessLevel               WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  transactionAccessLevel         WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  withdrawalAccessLevel          WORKSPACE_ACCOUNT_ACCESS_LEVEL[] @default([])
  metadata                       Json?                            @db.JsonB

  // Enums
  role WORKSPACE_ACCOUNT_ACCESS_ROLE @default(USER)

  // Relations
  user                  User                  @relation(name: "SharedWorkspaceAccountAccessUser", fields: [userId], references: [id], onDelete: Cascade)
  assigner              User                  @relation(name: "SharedWorkspaceAccountAccessAssigner", fields: [assignerId], references: [id], onDelete: Cascade)
  workspaceAccount      WorkspaceAccount      @relation(fields: [workspaceAccountId], references: [id], onDelete: Cascade)
  artist                Artist?               @relation(name: "SharedWorkspaceAccountAccessArtist", fields: [artistId], references: [id], onDelete: Cascade)
  performer             Performer?            @relation(name: "SharedWorkspaceAccountAccessPerformer", fields: [performerId], references: [id], onDelete: Cascade)
  producerAndEngineer   ProducerAndEngineer?  @relation(name: "SharedWorkspaceAccountAccessProducerAndEngineer", fields: [producerAndEngineerId], references: [id], onDelete: Cascade)
  writer                Writer?               @relation(name: "SharedWorkspaceAccountAccessWriter", fields: [writerId], references: [id], onDelete: Cascade)
  publisher             Publisher?            @relation(name: "SharedWorkspaceAccountAccessPublisher", fields: [publisherId], references: [id], onDelete: Cascade)
  label                 Label?                @relation(name: "SharedWorkspaceAccountAccessLabel", fields: [labelId], references: [id], onDelete: Cascade)
  releases              Release[]
  tracks                Track[]
  videos                Video[]
  ringtones             Ringtone[]
  artists               Artist[]
  performers            Performer[]
  producersAndEngineers ProducerAndEngineer[]
  writers               Writer[]
  publishers            Publisher[]
  labels                Label[]
  transactions          Transaction[]
  withdrawals           Withdrawal[]

  // Timestamps
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  expiresAt   DateTime
  suspendedAt DateTime?

  // Indexes & Constraints
}

model RightsManagement {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  userId String

  // Fields
  metadata Json? @db.JsonB

  // Enums
  status RIGHTS_MANAGEMENT_STATUS @default(PENDING)

  // Relations
  user User @relation(fields: [userId], references: [id])

  // Timestamps
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Indexes & Constraints
}

model AuditLog {
  // Primary Key
  id String @id @default(cuid())

  // Foreign Keys
  userId String?

  // Fields
  entityId    String?
  bySystem    Boolean @default(false)
  description String?
  metadata    Json?   @db.JsonB

  // Enums
  action AUDIT_LOG_ACTION
  entity AUDIT_LOG_ENTITY

  // Relations
  user User? @relation(fields: [userId], references: [id], onDelete: SetNull)

  // Timestamps
  createdAt DateTime @default(now())

  // Indexes & Constraints
}
